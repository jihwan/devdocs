---
layout: post
title: "ddd-start ch07 도메인 서비스"
description: "ddd-start ch07 도메인 서비스"
category: DDD
tags: [DDD]
---
{% include JB/setup %}

# 여러 애그리거트가 필요한 기능
기능 처리의 주체는?
기능 처리의 책임은 누구?

한 Aggregate에 넣기에 애매한 도메인 기능을 특정 Aggregate에서 억지로 구현하면 안된다.
자신의 책임 범위를 넘어서게 되고, 외부에 의존하게 된다. 코드가 복잡해 지고, 변경이 어렵다.

# 도메인 서비스
도메인 서비스를 이용하여, 도메인 개념을 명시적으로 드러내도록 하자.
도메인 서비스는 도메인 로직을 다룬다.

특징
- Entity, Value 같은 상태가 없음
- 순수 도메인 로직만 구현

도메인 서비스를 사용하는 주체는 Aggregate or 응용 서비스이다.

1. Aggregate Method 실행 시 도메인 서비스 인자 전달 방식
  - Aggregate 객체에 도메인 서비스를 전달하는 것은 응용 서비스 책임 이다.
2. 도메인 서비스 실행 시 Aggregate 인자 전달 방식

도메인 서비스는 도메인 로직을 수행하지, 응용 로직을 수행하지 않는다. 특히 트랜잭션 처리.

> 해당 로직이 Aggregate 상태 변경이거나 Aggregate 상태 값 계산하는 로직이라면,
이는 도메인 로직이고 도메인 서비스 이다.

### 도메인 서비스의 패키지 위치

### 도메인 서비스의 인터페이스와 클래스
인터페이스와 클래스로 분리하자.
- 도메인 서비스 로직이 고정되어 있지 않는 경우
- 외부 시스템, 기술 API, 별도 엔진 이용하는 경우
